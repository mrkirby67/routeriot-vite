# =========================================================
# ðŸ“˜ ROUTE RIOT FUNCTION MAP (AUTO-GENERATED)
# =========================================================
 - components/Broadcast/Broadcast.js
 - components/Broadcast/Broadcast.module.css
 - components/BugStrikeControl/BugStrikeControl.js
 - components/BugStrikeControl/BugStrikeControl.module.css
 - components/FlatTireControl/FlatTireControl.js
 - components/FlatTireControl/FlatTireControl.module.css
 - components/FlatTireControl/controller/autoScheduler.js
 - components/FlatTireControl/controller/domHandlers.js
 - components/FlatTireControl/controller/firestoreSync.js
 - components/FlatTireControl/flatTireControlController.js
 - components/GameControls/GameControls.js
 - components/GameControls/GameControls.module.css
 - components/RacerManagement/RacerManagement.js
 - components/RacerManagement/RacerManagement.module.css
 - components/Scoreboard/Scoreboard.js
 - components/Scoreboard/Scoreboard.module.css
 - components/SpeedBumpControl/SpeedBumpControl.js
 - components/SpeedBumpControl/SpeedBumpControl.module.css
 - components/SpeedBumpControl/controller/domHandlers.js
 - components/SpeedBumpControl/controller/promptBank.js
 - components/SpeedBumpControl/controller/stateSync.js
 - components/SpeedBumpControl/controller/teamPrompts.js
 - components/SpeedBumpControl/speedBumpControlController.js
 - components/SurpriseSelector/SurpriseSelector.js
 - components/SurpriseSelector/SurpriseSelector.module.css
 - components/TeamLinks/TeamLinks.js
 - components/TeamLinks/TeamLinks.module.css
 - components/ZoneManagement/ZoneManagement.js
 - components/ZoneManagement/ZoneManagement.module.css
 - components/ZoneManagement/zoneFirestore.js
 - components/ZoneManagement/zoneHandlers.js
 - components/ZoneManagement/zoneRender.js
 - components/ZoneManagement/zoneUI.js
 - components/ZoneQuestions/ZoneQuestions.js
 - components/ZoneQuestions/ZoneQuestions.module.css
 - components/ZoneQuestions/ZoneQuestionsEditor.js
 - components/ZoneQuestions/ZoneQuestionsLogic.js
 - components/ZoneQuestions/ZoneQuestionsTypes.js
 - components/ZoneQuestions/ZoneQuestionsUI.js
 - modules/auth.js
 - modules/bugStrikeManager.js
 - modules/chatManager.js
 - modules/chatManager/controlFeed.js
 - modules/chatManager/messageService.js
 - modules/chatManager/playerChat.js
 - modules/chatManager/registry.js
 - modules/chatManager/utils.js
 - modules/chirpCooldown.js
 - modules/config.js
 - modules/controlActions.js
 - modules/controlStatus.js
 - modules/controlUI.js
 - modules/diagnostics_flatTireZones.js
 - modules/emailTeams.js
 - modules/flatTireManager.js
 - modules/flatTireUI.js
 - modules/flatTire_fixGPS.js
 - modules/flatTire_normalizeGPS.js
 - modules/gameCountdown.js
 - modules/gameMaintenance.js
 - modules/gameRulesManager.js
 - modules/gameStateManager.js
 - modules/gameTimer.js
 - modules/gameUI.js
 - modules/googleMapsLoader.js
 - modules/homeMap.js
 - modules/messages/taunts.js
 - modules/playerBugStrikeUI.js
 - modules/playerUI.js
 - modules/playerUI/autoInit.js
 - modules/playerUI/core.js
 - modules/playerUI/overlays.js
 - modules/playerUI/overlays/baseOverlays.js
 - modules/playerUI/overlays/flatTireOverlay.js
 - modules/playerUI/overlays/shieldAndWrecked.js
 - modules/playerUI/overlays/speedBumpOverlay.js
 - modules/playerUI/overlays_FULL.js
 - modules/scoreboardManager.js
 - modules/speedBump/comms.js
 - modules/speedBump/core.js
 - modules/speedBump/index.js
 - modules/speedBump/interactions.js
 - modules/speedBump/reversals.js
 - modules/speedBump/timers.js
 - modules/speedBumpChallenges.js
 - modules/speedBumpManager_FULL.js
 - modules/speedBumpPlayer.js
 - modules/teamSurpriseManager.js
 - modules/utils.js
 - modules/zoneManager.js
 - modules/zones.js
 - modules/zonesChallenge.js
 - modules/zonesFirestore.js
 - modules/zonesMap.js
 - modules/zonesUtils.js

# =========================================================
# ðŸ§© CODEX REBUILD COMMANDS (Auto-Preserved Copy)
# =========================================================
#!/bin/bash
# =========================================================
# ðŸš€ CODEX REFRESH SCRIPT
# =========================================================
# PURPOSE:
#   Perform a full Codex rebuild: clean caches, re-index all
#   JS/HTML/CSS modules, validate build output, and log results.
#
# SAFETY:
#   - No source code is deleted.
#   - Only cache, dist, and old Function.Map.txt are removed.
# =========================================================

echo "ðŸ§½ Starting full Codex refresh..."
start_time=$(date +%s)

# STEP 1ï¸âƒ£: Clean environment
echo "ðŸ§¹ Cleaning caches and build output..."
rm -rf .codex_temp dist node_modules/.cache 2>/dev/null
rm -f Function.Map.txt 2>/dev/null

# STEP 2ï¸âƒ£: Re-index all project functions (simulated safe version)
echo "ðŸ—ºï¸  Rebuilding Function.Map.txt..."
echo "# =========================================================" > Function.Map.txt
echo "# ðŸ“˜ ROUTE RIOT FUNCTION MAP (AUTO-GENERATED)" >> Function.Map.txt
echo "# =========================================================" >> Function.Map.txt
find components modules -type f \( -name "*.js" -o -name "*.html" -o -name "*.css" \) \
  | sort | sed 's/^/ - /' >> Function.Map.txt

# STEP 3ï¸âƒ£: Validate project build
echo "ðŸ”§ Running npm build check..."
npm run build || { echo "âŒ Build failed â€” please check errors above."; exit 1; }

# STEP 4ï¸âƒ£: Preserve this script reference for future runs
{
  echo ""
  echo "# ========================================================="
  echo "# ðŸ§© CODEX REBUILD COMMANDS (Auto-Preserved Copy)"
  echo "# ========================================================="
  cat "$0"
  echo ""
} >> Function.Map.txt

end_time=$(date +%s)
duration=$((end_time - start_time))

echo "âœ… Codex refresh complete in ${duration}s."
echo "   â†’ Function.Map.txt updated"
echo "   â†’ Build validated successfully"
echo "   â†’ Safe to resume Codex operations!"
